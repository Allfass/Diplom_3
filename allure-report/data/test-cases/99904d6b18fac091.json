{"uid":"99904d6b18fac091","name":"Проверка заказов пользователя","fullName":"tests.test_order_feed.TestOrderFeed#test_order_in_order_feed_display_in_personal_account","historyId":"c2c83f125eaf84ea1d19057682e5d330","time":{"start":1721591412474,"stop":1721591418346,"duration":5872},"description":"Заказы пользователя из раздела История заказов отображаются на странице Лента заказов","descriptionHtml":"<p>Заказы пользователя из раздела История заказов отображаются на странице Лента заказов</p>\n","status":"broken","statusMessage":"TypeError: replace() argument 2 must be str, not None","statusTrace":"self = <test_order_feed.TestOrderFeed object at 0x7fa3e862ced0>\nuser_with_order = [None, <selenium.webdriver.firefox.webdriver.WebDriver (session=\"50848c8e-12c1-4bad-af30-47f68b83ff20\")>]\n\n    @allure.title('Проверка заказов пользователя')\n    @allure.description('Заказы пользователя из раздела История заказов отображаются на странице Лента заказов')\n    def test_order_in_order_feed_display_in_personal_account(self, user_with_order):\n        order_feed = OrderFeed(user_with_order[1], TestData.LOGIN_URL)\n        order_feed.load_page()\n        order_feed.click_on_order_feed()\n        order_feed.wait_feed_page_loading()\n>       order_in_order_feed = order_feed.get_order_by_id(user_with_order[0])\n\ntests/test_order_feed.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/order_feed.py:32: in get_order_by_id\n    return super().get_element_text(TestHelper.replacer(self.order_feed_locators.order_by_id, id))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nsource_locator = ['xpath', \"//p[contains(text(), '#098974')]\"], replace_with = None\n\n    @staticmethod\n    def replacer(source_locator, replace_with):\n>       result = source_locator[1].replace(\"98557\", replace_with)\nE       TypeError: replace() argument 2 must be str, not None\n\nhelper.py:4: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"driver","time":{"start":1721591391913,"stop":1721591393958,"duration":2045},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"logined_user","time":{"start":1721591393959,"stop":1721591401006,"duration":7047},"status":"passed","steps":[{"name":"Устанавливаем страницу для загрузки","time":{"start":1721591393959,"stop":1721591400057,"duration":6098},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Вводим email","time":{"start":1721591400057,"stop":1721591400312,"duration":255},"status":"passed","steps":[{"name":"Отправляем данные в поле","time":{"start":1721591400057,"stop":1721591400312,"duration":255},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//label[contains(text(), 'Email')]//following::input[contains(@class, 'text')]\"]"},{"name":"value","value":"'tester_123123@mail.ru'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Вводим пароль","time":{"start":1721591400312,"stop":1721591400395,"duration":83},"status":"passed","steps":[{"name":"Отправляем данные в поле","time":{"start":1721591400312,"stop":1721591400395,"duration":83},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//label[contains(text(), 'Пароль')]//following::input[contains(@class, 'text')]\"]"},{"name":"value","value":"'tester_123123'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Нажимаем на кнопку логина","time":{"start":1721591400395,"stop":1721591400428,"duration":33},"status":"passed","steps":[{"name":"Кликаем на элемент через javascript","time":{"start":1721591400395,"stop":1721591400428,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//button[contains(text(), 'Войти')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Ждем загрузки страницы после авторизации","time":{"start":1721591400428,"stop":1721591401006,"duration":578},"status":"passed","steps":[{"name":"Ждем загрузки элемента на странице","time":{"start":1721591400428,"stop":1721591401006,"duration":578},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//h1[contains(text(), 'Соберите бургер')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"user_with_order","time":{"start":1721591401006,"stop":1721591412474,"duration":11468},"status":"passed","steps":[{"name":"Устанавливаем страницу для загрузки","time":{"start":1721591401006,"stop":1721591401307,"duration":301},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Ждем загрузки поля с ингредиентами","time":{"start":1721591401307,"stop":1721591401821,"duration":514},"status":"passed","steps":[{"name":"Ждем загрузки элемента на странице","time":{"start":1721591401307,"stop":1721591401821,"duration":514},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//p[contains(text(), 'Флюоресцентная булка R2-D3')]//ancestor::a[contains(@class, 'BurgerIngredient_ingredient__1TVf6')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Переносим булку в поле заказа","time":{"start":1721591401821,"stop":1721591402364,"duration":543},"status":"passed","steps":[{"name":"Перемещаем элемент из одного локатора в другой","time":{"start":1721591401821,"stop":1721591402364,"duration":543},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"source_locator","value":"['xpath', \"//p[contains(text(), 'Флюоресцентная булка R2-D3')]//ancestor::a[contains(@class, 'BurgerIngredient_ingredient__1TVf6')]\"]"},{"name":"destination_locator","value":"['xpath', \"//span[contains(text(), 'Перетяните булочку сюда (верх)')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Нажимаем кнопку создания заказа","time":{"start":1721591402364,"stop":1721591402381,"duration":17},"status":"passed","steps":[{"name":"Кликаем на элемент через javascript","time":{"start":1721591402364,"stop":1721591402381,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//button[contains(text(), 'Оформить заказ')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получить текущий идентификатор заказа","time":{"start":1721591402381,"stop":1721591402396,"duration":15},"status":"passed","steps":[{"name":"Получаем текст элемента страницы","time":{"start":1721591402381,"stop":1721591402396,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//p[contains(text(), 'идентификатор заказа')]//preceding::h2[contains(@class, 'text_type_digits-large mb-8')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получить текущий идентификатор заказа","time":{"start":1721591402396,"stop":1721591412474,"duration":10078},"status":"passed","steps":[{"name":"Получаем текст элемента страницы","time":{"start":1721591402396,"stop":1721591402405,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//p[contains(text(), 'идентификатор заказа')]//preceding::h2[contains(@class, 'text_type_digits-large mb-8')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаем текст элемента страницы","time":{"start":1721591403405,"stop":1721591403409,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//p[contains(text(), 'идентификатор заказа')]//preceding::h2[contains(@class, 'text_type_digits-large mb-8')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаем текст элемента страницы","time":{"start":1721591404409,"stop":1721591404413,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//p[contains(text(), 'идентификатор заказа')]//preceding::h2[contains(@class, 'text_type_digits-large mb-8')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаем текст элемента страницы","time":{"start":1721591405414,"stop":1721591405418,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//p[contains(text(), 'идентификатор заказа')]//preceding::h2[contains(@class, 'text_type_digits-large mb-8')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаем текст элемента страницы","time":{"start":1721591406419,"stop":1721591406428,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//p[contains(text(), 'идентификатор заказа')]//preceding::h2[contains(@class, 'text_type_digits-large mb-8')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаем текст элемента страницы","time":{"start":1721591407428,"stop":1721591407436,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//p[contains(text(), 'идентификатор заказа')]//preceding::h2[contains(@class, 'text_type_digits-large mb-8')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаем текст элемента страницы","time":{"start":1721591408436,"stop":1721591408445,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//p[contains(text(), 'идентификатор заказа')]//preceding::h2[contains(@class, 'text_type_digits-large mb-8')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаем текст элемента страницы","time":{"start":1721591409445,"stop":1721591409450,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//p[contains(text(), 'идентификатор заказа')]//preceding::h2[contains(@class, 'text_type_digits-large mb-8')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаем текст элемента страницы","time":{"start":1721591410450,"stop":1721591410462,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//p[contains(text(), 'идентификатор заказа')]//preceding::h2[contains(@class, 'text_type_digits-large mb-8')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаем текст элемента страницы","time":{"start":1721591411463,"stop":1721591411474,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//p[contains(text(), 'идентификатор заказа')]//preceding::h2[contains(@class, 'text_type_digits-large mb-8')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":20,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"Заказы пользователя из раздела История заказов отображаются на странице Лента заказов","status":"broken","statusMessage":"TypeError: replace() argument 2 must be str, not None","statusTrace":"self = <test_order_feed.TestOrderFeed object at 0x7fa3e862ced0>\nuser_with_order = [None, <selenium.webdriver.firefox.webdriver.WebDriver (session=\"50848c8e-12c1-4bad-af30-47f68b83ff20\")>]\n\n    @allure.title('Проверка заказов пользователя')\n    @allure.description('Заказы пользователя из раздела История заказов отображаются на странице Лента заказов')\n    def test_order_in_order_feed_display_in_personal_account(self, user_with_order):\n        order_feed = OrderFeed(user_with_order[1], TestData.LOGIN_URL)\n        order_feed.load_page()\n        order_feed.click_on_order_feed()\n        order_feed.wait_feed_page_loading()\n>       order_in_order_feed = order_feed.get_order_by_id(user_with_order[0])\n\ntests/test_order_feed.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/order_feed.py:32: in get_order_by_id\n    return super().get_element_text(TestHelper.replacer(self.order_feed_locators.order_by_id, id))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nsource_locator = ['xpath', \"//p[contains(text(), '#098974')]\"], replace_with = None\n\n    @staticmethod\n    def replacer(source_locator, replace_with):\n>       result = source_locator[1].replace(\"98557\", replace_with)\nE       TypeError: replace() argument 2 must be str, not None\n\nhelper.py:4: TypeError","steps":[{"name":"Устанавливаем страницу для загрузки","time":{"start":1721591412474,"stop":1721591412767,"duration":293},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажимаем кнопку ленты заказов","time":{"start":1721591412767,"stop":1721591412811,"duration":44},"status":"passed","steps":[{"name":"Кликаем на элемент через javascript","time":{"start":1721591412767,"stop":1721591412810,"duration":43},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//p[contains(text(), 'Лента Заказов')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Ждем загрузку страницы с лентой заказов","time":{"start":1721591412811,"stop":1721591418346,"duration":5535},"status":"passed","steps":[{"name":"Ждем загрузки элемента на странице","time":{"start":1721591412811,"stop":1721591418346,"duration":5535},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"locator","value":"['xpath', \"//h1[contains(text(), 'Лента заказов')]\"]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получаем текущий заказ по идентификатору","time":{"start":1721591418346,"stop":1721591418346,"duration":0},"status":"broken","statusMessage":"TypeError: replace() argument 2 must be str, not None\n","statusTrace":"  File \"/home/github/Diplom_3/.venv/lib/python3.11/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/github/Diplom_3/pages/order_feed.py\", line 32, in get_order_by_id\n    return super().get_element_text(TestHelper.replacer(self.order_feed_locators.order_by_id, id))\n                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/github/Diplom_3/helper.py\", line 4, in replacer\n    result = source_locator[1].replace(\"98557\", replace_with)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[{"name":"id","value":"None"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"driver::0","time":{"start":1721591418350,"stop":1721591419018,"duration":668},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_order_feed"},{"name":"subSuite","value":"TestOrderFeed"},{"name":"host","value":"debian-work"},{"name":"thread","value":"63958-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_order_feed"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"driver","value":"'firefox'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"99904d6b18fac091.json","parameterValues":["'firefox'"]}